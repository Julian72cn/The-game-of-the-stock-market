# 基于投资者行为的股票市场模拟

## 项目介绍

这是一个使用Python实现的基于行为金融学的股票市场模拟系统。该项目旨在通过计算机模拟不同类型投资者的行为，观察他们如何影响股票市场的价格波动和交易量，以及各类投资者的资产变化情况。

这个项目源于一个简单的想法：既然股票市场的波动主要来自于不同类型参与者（投资者）的行为，那么我们是否可以通过计算机模拟这些参与者的行为来模拟股票市场？随着AIGC技术的发展，这个想法得以实现，并形成了这个完整的模拟系统。

## 功能特点

- **多种投资者类型**：模拟了多种不同行为特征的投资者，包括价值投资者、趋势投资者、追涨杀跌者、随机投资者等
- **市场交易机制**：采用集合竞价的方式模拟每日交易，生成价格序列和交易量序列
- **可视化分析**：提供股票价格、交易量波动的可视化展示，以及各类投资者资产变化的分析
- **交易费用模拟**：实现了买卖手续费机制
- **资金注入与撤出**：支持模拟资金的注入和撤出功能

## 投资者类型

项目模拟了以下几种投资者类型：

1. **价值投资者 (ValueInvestor)**：
2. **趋势投资者 (TrendInvestor)**：
3. **追涨杀跌者 (ChaseInvestor)**：
4. **随机投资者 (RandomInvestor)**：
5. **永不止损投资者 (NeverStopLossInvestor)**：
6. **抄底投资者 (BottomFishingInvestor)**：
7. **消息投资者 (MessageInvestor)**：

## 市场机制

- 采用一次集合竞价的方式模拟每天的交易
- 生成价格序列和交易量序列
- 实现了交易费用机制（买入费率和卖出费率）
- 支持资金注入和撤出功能
- 跟踪已执行的交易量和历史记录

## 可视化输出

模拟结果的输出包括：
- 股票价格和交易量的波动情况
- 每类投资者的资产、现金、持仓的平均变化情况
- 在价格图表上标记资金变化事件

## 如何使用

### 环境要求

- Python 3.6+
- NumPy
- Matplotlib

### 运行模拟

1. 克隆或下载本项目到本地
2. 运行最新版本的Python脚本：如
```bash
python main_ca_3.2.1.1.py
```
3. 观察生成的模拟结果和图表

### 自定义模拟

您可以通过修改脚本中的参数来自定义模拟：

- 调整不同类型投资者的数量和初始资金
- 修改模拟的天数
- 调整交易费率
- 设置资金注入或撤出事件

## 版本历史

### 版本 3.2.1.1

- 增强了投资者行为建模：
  - 添加了抄底投资者类，实现分批买入策略
  - 添加了消息投资者类，具有延迟信息处理功能
  - 移除了内幕交易者类以维持市场公平性

- 改进了市场机制：
  - 添加了交易费用机制（买入费率和卖出费率）
  - 实现了资金注入和撤出功能
  - 添加了已执行交易量跟踪和历史记录

- 增强了可视化：
  - 在第一个子图中添加了交易量显示
  - 在价格图表上添加了资金变化事件标记
  - 通过MA周期改进了趋势投资者表现分析

- 代码优化：
  - 改进了错误处理和参数验证
  - 增强了文档和代码注释
  - 更好地分离了市场操作中的关注点

## 项目结构

- `main_ca_3.*.py`：各版本的代码
- `StockGame_CN.pdf`：中文版项目开发过程和运行结果研究分析文档，其中有一些有趣的发现
- `StockGame.pdf`：英文版项目开发进展过程和运行结果研究分析文档(用Google Translate翻译自StockGame_CN.pdf)
- `StockGame_CN.html`：中文html版项目开发过程和运行结果研究分析文档(内容同StockGame_CN.pdf)
- `StockGame.htm`：英文html版项目开发进展过程和运行结果研究分析文档(内容同StockGame.pdf)
- `README.md`：项目说明文档
- `README_CN.md`：中文版项目说明文档
- `LICENSE`：许可证文件

## 注意事项

- 本项目仅用于教育和研究目的，不构成任何投资建议
- 模拟结果不代表真实市场行为，仅供参考
- 投资者类型和行为是简化的模型，真实市场中的投资者行为更为复杂

## 许可证

本项目采用MIT许可证 - 详情请参阅[LICENSE](LICENSE)文件。

## 版权声明

版权所有 (c) 2023 股票市场模拟游戏。保留所有权利。

本软件及相关文档文件受版权法保护。未经授权复制或分发本软件或其任何部分可能导致严重的民事和刑事处罚。